/* eslint-disable */ 
const dragonFruit = {
  title:'Dragon Fruit',
  type: 1,
  data: [
    {
      id: 1,
      imgSrc: '/img/images/01.png',
      imgSrcFarm: '/img/images/Can Tho Orgin Farm 1 logo.png',
      bigImgSrc: '/img/images/Dragon Fruit Red 2 QuickView.png',
      imgScanSrc: '/img/images/QR Code.png',
      title: 'Dragon Fruit White',
      price: 1.3,
      inStock: '3 Ton',
      supplier: 'Can Tho Ogrin Farm 1',
      supplierId: 1,
      standard: 1,
      rating: 4.5,
      barcode: '125465656560',
      productCode: 'TH0124668',
      size: '0.8kg - 1,1kg',
      plantingDate: '01/01/2018',
      harvetingDate:  '01/01/2019',
      createDate: '01/10/2018',
      production: '4 Ton',
      type: 1,
      owner: 'John Doe',
      product: 'Dragon Fruit',
      phone: '235.6897831',
      quantityProvided: '4 Ton/Year',
      arableLand: '3 Ha',
      address: '180 Vo Van Kiet, Long Hoa, Binh Thuy, Can Tho',
      introduction: [
        "Can Tho Farm specializes in providing clean vegetables and fruits. With the successful application of hydroponic vegetable cultivation technology in Can Tho, we always have clean, safe and quality hydroponic vegetable products.",
        "<strong>Vision:</strong><br> Can Tho Farm will be the largest producer of clean agricultural products in the Western region and one of the most specialized and clean agricultural products companies in Vietnam.",
        "<strong>Slogan: </strong><br> \"Your clean food\"",
        "<strong>Mission: </strong><br> Can Tho Farm's mission is to provide clean agricultural products - quality to ensure health and consumer benefits.",
        "<strong>Policy and service:: </strong><br> Can Tho Farm replaces you \"Select, search & cultivate clean food\", besides Can Tho Farm also offers consumers products and services such as:<br>Supply of hydroponic vegetable products<br>Service to buy and plant trees online - Melon grid<br>Get assembly and design of hydroponic vegetable truss at home",
        "<strong>Commitment: </strong><br> Can Tho Farm will bring Safety and Quality products.",
      ],
      relatedProduct: [
        {
          id: 2,
          imgSrc: '/img/images/02.png',
          title: 'Dragon Fruit Red',
          price: 2.5,
          inStock: '4 Ton',
          supplier: 'Can Tho Ogrin Farm 2',
          rating: 4.5
        },
        {
          id: 3,
          imgSrc: '/img/images/03.png',
          title: 'Dragon Fruit White',
          price: 1.3,
          inStock: '5 Ton',
          supplier: 'Can Tho Ogrin Farm 3',
          rating: 5
        }
      ]
    },
    {
      id: 2,
      imgSrc: '/img/images/02.png',
      imgSrcFarm: '/img/images/Can Tho Orgin Farm 1 logo.png',
      bigImgSrc: '/img/images/02.png',
      imgScanSrc: '/img/images/QR Code.png',
      title: 'Dragon Fruit Red',
      price: 2.5,
      inStock: '4 Ton',
      supplier: 'Can Tho Ogrin Farm 2',
      supplierId: 2,
      standard: 2,
      rating: 4.5,
      barcode: '125465656560',productCode: 'TH0124668',
      size: '0.8kg - 1,1kg',
      plantingDate: '01/01/2018',
      harvetingDate:  '01/01/2019',
      createDate: '01/09/2018',
      production: '4 Ton',
      type: 1,
      owner: 'John Doe',
      product: 'Dragon Fruit',
      phone: '235.6897831',
      quantityProvided: '4 Ton/Year',
      arableLand: '3 Ha',
      address: '180 Vo Van Kiet, Long Hoa, Binh Thuy, Can Tho',
      introduction: [
        "Can Tho Farm specializes in providing clean vegetables and fruits. With the successful application of hydroponic vegetable cultivation technology in Can Tho, we always have clean, safe and quality hydroponic vegetable products.",
        "<strong>Vision:</strong><br> Can Tho Farm will be the largest producer of clean agricultural products in the Western region and one of the most specialized and clean agricultural products companies in Vietnam.",
        "<strong>Slogan: </strong><br> \"Your clean food\"",
        "<strong>Mission: </strong><br> Can Tho Farm's mission is to provide clean agricultural products - quality to ensure health and consumer benefits.",
        "<strong>Policy and service:: </strong><br> Can Tho Farm replaces you \"Select, search & cultivate clean food\", besides Can Tho Farm also offers consumers products and services such as:<br>Supply of hydroponic vegetable products<br>Service to buy and plant trees online - Melon grid<br>Get assembly and design of hydroponic vegetable truss at home",
        "<strong>Commitment: </strong><br> Can Tho Farm will bring Safety and Quality products.",
      ],
      relatedProduct: [
        {
          id: 1,
          imgSrc: '/img/images/01.png',
          title: 'Dragon Fruit White',
          price: 1.3,
          inStock: '3 Ton',
          supplier: 'Can Tho Ogrin Farm 1',
          rating: 4.5
        },
        {
          id: 3,
          imgSrc: '/img/images/03.png',
          title: 'Dragon Fruit White',
          price: 1.3,
          inStock: '5 Ton',
          supplier: 'Can Tho Ogrin Farm 3',
          rating: 5
        }
      ]
    },
    {
      id: 3,
      imgSrc: '/img/images/03.png',
      imgSrcFarm: '/img/images/Can Tho Orgin Farm 1 logo.png',
      bigImgSrc: '/img/images/03.png',
      imgScanSrc: '/img/images/QR Code.png',
      title: 'Dragon Fruit White',
      price: 1.3,
      inStock: '5 Ton',
      supplier: 'Can Tho Ogrin Farm 3',
      supplierId: 3,
      standard: 1,
      rating: 5,
      barcode: '125465656560',
      productCode: 'TH0124668',
      size: '0.8kg - 1,1kg',
      plantingDate: '01/01/2018',
      harvetingDate:  '01/01/2019',
      createDate: '01/08/2018',
      production: '5 Ton',
      type: 1,
      owner: 'John Doe',
      product: 'Dragon Fruit',
      phone: '235.6897831',
      quantityProvided: '4 Ton/Year',
      arableLand: '3 Ha',
      address: '180 Vo Van Kiet, Long Hoa, Binh Thuy, Can Tho',
      introduction: [
        "Can Tho Farm specializes in providing clean vegetables and fruits. With the successful application of hydroponic vegetable cultivation technology in Can Tho, we always have clean, safe and quality hydroponic vegetable products.",
        "<strong>Vision:</strong><br> Can Tho Farm will be the largest producer of clean agricultural products in the Western region and one of the most specialized and clean agricultural products companies in Vietnam.",
        "<strong>Slogan: </strong><br> \"Your clean food\"",
        "<strong>Mission: </strong><br> Can Tho Farm's mission is to provide clean agricultural products - quality to ensure health and consumer benefits.",
        "<strong>Policy and service:: </strong><br> Can Tho Farm replaces you \"Select, search & cultivate clean food\", besides Can Tho Farm also offers consumers products and services such as:<br>Supply of hydroponic vegetable products<br>Service to buy and plant trees online - Melon grid<br>Get assembly and design of hydroponic vegetable truss at home",
        "<strong>Commitment: </strong><br> Can Tho Farm will bring Safety and Quality products.",
      ],
      relatedProduct: [
        {
          id: 1,
          imgSrc: '/img/images/01.png',
          title: 'Dragon Fruit White',
          price: 1.3,
          inStock: '3 Ton',
          supplier: 'Can Tho Ogrin Farm 1',
          rating: 4.5
        },
        {
          id: 2,
          imgSrc: '/img/images/02.png',
          title: 'Dragon Fruit Red',
          price: 2.5,
          inStock: '4 Ton',
          supplier: 'Can Tho Ogrin Farm 2',
          rating: 4.5
        },
      ]
    }
  ]
};

const banana = {
  title:'Banana',
  type: 2,
  data: [
    {
      id: 4,
      imgSrc: '/img/images/Banana 02.png',
      imgSrcFarm: '/img/images/Can Tho Orgin Farm 1 logo.png',
      bigImgSrc: '/img/images/Banana 05.png',
      imgScanSrc: '/img/images/QR Code.png',
      title: 'Banana',
      price: 1.5,
      inStock: '3 Ton',
      supplier: 'Can Tho Ogrin Farm 1',
      supplierId: 1,
      standard: 2,
      rating: 4.5,
      barcode: '125465656560',
      productCode: 'TH0124668',
      size: '',
      plantingDate: '01/01/2018',
      harvetingDate:  '01/01/2019',
      createDate: '01/07/2018',
      production: '4 Ton',
      type: 2,
      owner: 'John Doe',
      product: 'Banana',
      phone: '235.6897831',
      quantityProvided: '4 Ton/Year',
      arableLand: '3 Ha',
      address: '180 Vo Van Kiet, Long Hoa, Binh Thuy, Can Tho',
      introduction: [
        "Can Tho Farm specializes in providing clean vegetables and fruits. With the successful application of hydroponic vegetable cultivation technology in Can Tho, we always have clean, safe and quality hydroponic vegetable products.",
        "<strong>Vision:</strong><br> Can Tho Farm will be the largest producer of clean agricultural products in the Western region and one of the most specialized and clean agricultural products companies in Vietnam.",
        "<strong>Slogan: </strong><br> \"Your clean food\"",
        "<strong>Mission: </strong><br> Can Tho Farm's mission is to provide clean agricultural products - quality to ensure health and consumer benefits.",
        "<strong>Policy and service:: </strong><br> Can Tho Farm replaces you \"Select, search & cultivate clean food\", besides Can Tho Farm also offers consumers products and services such as:<br>Supply of hydroponic vegetable products<br>Service to buy and plant trees online - Melon grid<br>Get assembly and design of hydroponic vegetable truss at home",
        "<strong>Commitment: </strong><br> Can Tho Farm will bring Safety and Quality products.",
      ],
      relatedProduct: [
        {
          id: 5,
          imgSrc: '/img/images/01.png',
          title: 'Banana',
          price: 1,
          inStock: '3 Ton',
          supplier: 'Can Tho Ogrin Farm 2',
          rating: 4.5
        },
      ]
    },
    {
      id: 5,
      imgSrc: '/img/images/Banana 03.png',
      imgSrcFarm: '/img/images/Can Tho Orgin Farm 1 logo.png',
      bigImgSrc: '/img/images/Banana 01.png',
      imgScanSrc: '/img/images/QR Code.png',
      title: 'Banana',
      price: 1,
      inStock: '3 Ton',
      supplier: 'Can Tho Ogrin Farm 2',
      supplierId: 2,
      standard: 1,
      rating: 4.5,
      barcode: '125465656560',
      productCode: 'TH0124668',
      size: '',
      plantingDate: '01/01/2018',
      harvetingDate:  '01/01/2019',
      createDate: '01/06/2018',
      production: '4 Ton',
      type: 2,
      owner: 'John Doe',
      product: 'Banana',
      phone: '235.6897831',
      quantityProvided: '4 Ton/Year',
      arableLand: '3 Ha',
      address: '180 Vo Van Kiet, Long Hoa, Binh Thuy, Can Tho',
      introduction: [
        "Can Tho Farm specializes in providing clean vegetables and fruits. With the successful application of hydroponic vegetable cultivation technology in Can Tho, we always have clean, safe and quality hydroponic vegetable products.",
        "<strong>Vision:</strong><br> Can Tho Farm will be the largest producer of clean agricultural products in the Western region and one of the most specialized and clean agricultural products companies in Vietnam.",
        "<strong>Slogan: </strong><br> \"Your clean food\"",
        "<strong>Mission: </strong><br> Can Tho Farm's mission is to provide clean agricultural products - quality to ensure health and consumer benefits.",
        "<strong>Policy and service:: </strong><br> Can Tho Farm replaces you \"Select, search & cultivate clean food\", besides Can Tho Farm also offers consumers products and services such as:<br>Supply of hydroponic vegetable products<br>Service to buy and plant trees online - Melon grid<br>Get assembly and design of hydroponic vegetable truss at home",
        "<strong>Commitment: </strong><br> Can Tho Farm will bring Safety and Quality products.",
      ],
      relatedProduct: [
        {
          id: 4,
          imgSrc: '/img/images/01.png',
          title: 'Banana',
          price: 5.5,
          inStock: '3 Ton',
          supplier: 'Can Tho Ogrin Farm 2',
          rating: 1.5
        },
      ]
    }
  ]
};

const grape = {
  title:'Grape',
  type: 3,
  data: [
    {
      id: 6,
      imgSrc: '/img/images/Grape 03.png',
      imgSrcFarm: '/img/images/Can Tho Orgin Farm 1 logo.png',
      bigImgSrc: '/img/images/Grape 04.png',
      imgScanSrc: '/img/images/QR Code.png',
      title: 'Grape',
      price: 2.5,
      inStock: '3 Ton',
      supplier: 'Can Tho Ogrin Farm 2',
      supplierId: 2,
      standard: 2,
      rating: 4.5,
      barcode: '125465656560',
      productCode: 'TH0124668',
      size: '',
      plantingDate: '01/01/2018',
      harvetingDate:  '01/01/2019',
      createDate: '01/05/2018',
      production: '4 Ton',
      type: 3,
      owner: 'John Doe',
      product: 'Grape',
      phone: '2356897831',
      quantityProvided: '4 Ton/Year',
      arableLand: '3 Ha',
      address: '180 Vo Van Kiet, Long Hoa, Binh Thuy, Can Tho',
      introduction: [
        "Can Tho Farm specializes in providing clean vegetables and fruits. With the successful application of hydroponic vegetable cultivation technology in Can Tho, we always have clean, safe and quality hydroponic vegetable products.",
        "<strong>Vision:</strong><br> Can Tho Farm will be the largest producer of clean agricultural products in the Western region and one of the most specialized and clean agricultural products companies in Vietnam.",
        "<strong>Slogan: </strong><br> \"Your clean food\"",
        "<strong>Mission: </strong><br> Can Tho Farm's mission is to provide clean agricultural products - quality to ensure health and consumer benefits.",
        "<strong>Policy and service:: </strong><br> Can Tho Farm replaces you \"Select, search & cultivate clean food\", besides Can Tho Farm also offers consumers products and services such as:<br>Supply of hydroponic vegetable products<br>Service to buy and plant trees online - Melon grid<br>Get assembly and design of hydroponic vegetable truss at home",
        "<strong>Commitment: </strong><br> Can Tho Farm will bring Safety and Quality products.",
      ],
      relatedProduct: [

      ]
    }
  ]
};

const carrot = {
  title: 'Carrot',
  type: 4,
  data: [
    {
      id: 7,
      imgSrc: '/img/images/Carrot 01.png',
      imgSrcFarm: '/img/images/Can Tho Orgin Farm 1 logo.png',
      bigImgSrc: '/img/images/Carrot 02.png',
      imgScanSrc: '/img/images/QR Code.png',
      title: 'Carrot',
      price: 0.3,
      inStock: '3 Ton',
      supplier: 'Can Tho Ogrin Farm 2',
      supplierId: 2,
      standard: 1,
      rating: 4.5,
      barcode: '125465656560',
      productCode: 'TH0124668',
      size: '0.8kg - 1,1kg',
      plantingDate: '01/01/2018',
      harvetingDate:  '01/01/2019',
      createDate: '01/04/2018',
      production: '4 Ton',
      type: 4,
      owner: 'John Doe',
      product: 'Carrot',
      phone: '235.6897831',
      quantityProvided: '4 Ton/Year',
      arableLand: '3 Ha',
      address: '180 Vo Van Kiet, Long Hoa, Binh Thuy, Can Tho',
      introduction: [
        "Can Tho Farm specializes in providing clean vegetables and fruits. With the successful application of hydroponic vegetable cultivation technology in Can Tho, we always have clean, safe and quality hydroponic vegetable products.",
        "<strong>Vision:</strong><br> Can Tho Farm will be the largest producer of clean agricultural products in the Western region and one of the most specialized and clean agricultural products companies in Vietnam.",
        "<strong>Slogan: </strong><br> \"Your clean food\"",
        "<strong>Mission: </strong><br> Can Tho Farm's mission is to provide clean agricultural products - quality to ensure health and consumer benefits.",
        "<strong>Policy and service:: </strong><br> Can Tho Farm replaces you \"Select, search & cultivate clean food\", besides Can Tho Farm also offers consumers products and services such as:<br>Supply of hydroponic vegetable products<br>Service to buy and plant trees online - Melon grid<br>Get assembly and design of hydroponic vegetable truss at home",
        "<strong>Commitment: </strong><br> Can Tho Farm will bring Safety and Quality products.",
      ],
      relatedProduct: []
    }
  ]
};



export const API = {
  searchTerm: {},
  items: [
    {
      ...dragonFruit
    },
    {
      ...banana
    },
    {
      ...grape
    },
    {
      ...carrot
    }
  ],
  sort: 1,
  updateSort(sort){
    this.sort = sort;
    return this.filter(this.searchTerm);
  },
  createDb() {
    let data = this.items.reduce((a, c) => {
      a = a.concat(c.data);
      return a;
    }, []);
    data = this.sortData(data);
    return {
      title: `All Items`,
      data: data
    };
  },

  filterType(parameter){
    let temp, title, data;
    switch(typeof parameter) {
      case 'object':
          temp = this.items.filter(item =>  parameter.indexOf(item.type.toString()) !== -1);
          title = `All Items`;
          data = temp.reduce((a, c) => {
            a = a.concat(c.data);
            return a;
          }, []);
        break;
      default:
          temp = this.items.find(item => item.type == parameter);
          title = temp.title;
          data = temp.data;
    }
    return {
      title,
      data
    }
  },
  filterSupplier(parameter, olddata){
    let temp, title, data;

    switch(typeof parameter) {
      case 'object':
        if(olddata.length){
          temp = olddata.filter(item =>  parameter.indexOf(item.supplierId.toString()) !== -1);
        }
        else{
          temp = this.createDb().data.filter(item =>  parameter.indexOf(item.supplierId.toString()) !== -1);
        }
        break;
      default:
        if(olddata.length){
          temp = olddata.filter(item => item.supplierId == parameter);
        }
        else{
          temp = this.createDb().data.filter(item => item.supplierId == parameter);
        }
    }
    title = `All Items` ;
    data = temp;

    return {
      title,
      data
    }
  },
  filterStandard(parameter, olddata){
    let temp, title, data;
    switch(typeof parameter) {
      case 'object':
        if(olddata.length){
          temp = olddata.filter(item =>  parameter.indexOf(item.standard.toString()) !== -1);
        }
        else{
          temp = this.createDb().data.filter(item =>  parameter.indexOf(item.standard.toString()) !== -1);
        }
        break;
      default:
        if(olddata.length){
          temp = olddata.filter(item => item.standard == parameter);
        }
        else{
          temp = this.createDb().data.filter(item => item.standard == parameter);
        }
    }
    title = `All Items` ;
    data = temp;

    return {
      title,
      data
    }
  },
  filterCondition(from , to, condition, olddata, crbd){
    let data;
    if(olddata.length){
      data = olddata.filter(item => to
        ? parseInt(item[condition]) >= from && parseInt(item[condition]) <= to
        : parseInt(item[condition]) >= from);
      }
      else{
      data = crbd.data.filter(item => {
        return to
        ? parseInt(item[condition]) >= from && parseInt(item[condition]) <= to
        : parseInt(item[condition]) >= from
      });
    }
    return data;
  },
  sortData(data){
    return data.sort((a, b) => {
      if(this.sort == 1){
        return (new Date(a.createDate).getTime()) >  (new Date(b.createDate).getTime()) ? 1 : -1;
      }
      return (new Date(a.createDate).getTime()) <  (new Date(b.createDate).getTime()) ? 1 : -1;
    });
  },
  filter(obj){
    this.searchTerm = obj;
    const TYPE_PARAMETER = `type[]`;
    const SUPPLIER_PARAMETER = `supplierId[]`;
    const STANDARD = `standard[]`;
    const PRICEFROM =`price-from`;
    const PRICETO =`price-to`;
    const QUANTITYFROM = `quantity-from`;
    const QUANTITYTO = `quantity-to`;
    
    let keys = Object.keys(obj);
    let hasType = keys.indexOf(TYPE_PARAMETER);
    let hasSupplier = keys.indexOf(SUPPLIER_PARAMETER);
    let hasStandard = keys.indexOf(STANDARD);
    let title = '';
    let data = [];
    let temp;

    let filters = {
      title: '',
      data: []
    }

    // let priceMax = Math.max(parseInt(obj[PRICEFROM]), parseInt(obj[PRICETO]));
    // let priceMin = Math.min(parseInt(obj[PRICEFROM]), parseInt(obj[PRICETO]));
    let priceFrom = parseInt(obj[PRICEFROM]);
    let priceTo = parseInt(obj[PRICETO]);
    let quantityFrom = parseInt(obj[QUANTITYFROM]);
    let quantityTo = parseInt(obj[QUANTITYTO]);
    let standard = parseInt(obj[STANDARD]);
    let crbd = this.createDb();

    // no filter
    if (hasType == -1 && 
      hasSupplier == -1 &&
      hasStandard == -1 &&
      !priceFrom &&
      !priceTo &&
      !quantityFrom &&
      !quantityTo &&
      !standard
      ){
      crbd.data = crbd.data.sort((a, b) => {
        if (this.sort == 1) {
          return (new Date(a.createDate).getTime()) > (new Date(b.createDate).getTime()) ? 1 : -1;
        }
        return (new Date(a.createDate).getTime()) < (new Date(b.createDate).getTime()) ? 1 : -1;
      });
      return crbd;
    }

    // type
    if (hasType != -1) {
      temp = this.filterType(obj[TYPE_PARAMETER]);
      title = temp ? temp.title : `All Items`;
      data = temp ? temp.data : [];
    }

    // supplier
    if (hasSupplier != -1) {
      temp = this.filterSupplier(obj[SUPPLIER_PARAMETER], data);
      title = temp ? temp.title : `All Items`;
      data = temp ? temp.data : [];
    }

    // standard
    if (hasStandard != -1) {
      temp = this.filterStandard(obj[STANDARD], data);
      title = temp ? temp.title : `All Items`;
      data = temp ? temp.data : [];
    }

    // filter price
    if (priceFrom || priceTo) {
      title = data.length ? title : `All Items`;
      data = this.filterCondition(priceFrom, priceTo, `price`, data, crbd);
    }
    // filter quantity
    if (quantityFrom || quantityTo) {
      title = data.length ? title : `All Items`;
      data = this.filterCondition(
        quantityFrom,
        quantityTo,
        `inStock`,
        data,
        crbd
      );
    }

    data = this.sortData(data);
    filters = {
      title: title,
      data: data
    };
    return filters;
  },
  supplier(id) {
    return this.items.filter(item => item.supplierId == id);
  },
  getItem(id) {
    return this.createDb().data.find(item => item.id == id);
  }
};
